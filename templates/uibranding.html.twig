{#
# UI Branding plugin for GLPI
#}

{% import 'components/form/fields_macros.html.twig' as fields %}

<div class="d-flex flex-column">
    <div class="row">
        <div class="col">
            <div class='p-2 flex-grow-1 card'>
                <div class="asset">
                    <form id="main-form" name="uibranding_form" method="post" action="{{ url }}"
                          enctype="multipart/form-data"
                          data-submit-once>
                        <input type="hidden" name="_glpi_csrf_token" value="{{ csrf_token() }}"/>
                        
                        {{ fields.largeTitle(__('UI Branding', 'mod'), 'ti ti-paint', true) }}
                        <div class="card-body d-flex flex-wrap">
                            <div class="col-12 col-xxl-12 flex-column">
                                <div class="d-flex flex-row flex-wrap flex-xl-nowrap">
                                    <div class="row flex-row align-items-start flex-grow-1">
                                        <div class="row flex-row">
                                            
                                            {# ========== BASIC SETTINGS ========== #}
                                            {{ fields.smallTitle('Basic Settings', 'ti ti-adjustments') }}
                                            
                            {{ fields.textField('title', title, 'Page Title') }}
                            {{ fields.textField('attribution_text', attribution_text, 'Attribution Text', {
                                helper: 'Text displayed at bottom of login form'
                            }) }}
                            
                            {{ fields.dropdownYesNo('show_background', show_background, 'Show Login Background') }}
                            {{ fields.dropdownYesNo('show_custom_logos', show_custom_logos, 'Use Custom Logos') }}                                            {# ========== LAYOUT ========== #}
                                            {{ fields.smallTitle('Layout Style', 'ti ti-layout-2') }}
                                            
                                            <div class="form-field row align-items-center col-12 mb-2">
                                                <label class="col-form-label col-xxl-5 text-xxl-end">Layout Type</label>
                                                <div class="col-xxl-7 field-container">
                                                    <select class="form-control" name="layout">
                                                        {% for key, label in available_layouts %}
                                                            <option value="{{ key }}" {% if layout == key %}selected{% endif %}>{{ label }}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                            
                                            {# ========== COLORS ========== #}
                                            {{ fields.smallTitle('Color Theme', 'ti ti-color-picker') }}
                                            
                                            <div class="form-field row align-items-center col-12 mb-2">
                                                <label class="col-form-label col-xxl-5 text-xxl-end">Primary Color</label>
                                                <div class="col-xxl-7 field-container">
                                                    <input type="color" class="form-control form-control-color" 
                                                           name="primary_color" value="{{ primary_color }}">
                                                </div>
                                            </div>
                                            
                                            <div class="form-field row align-items-center col-12 mb-2">
                                                <label class="col-form-label col-xxl-5 text-xxl-end">Secondary Color</label>
                                                <div class="col-xxl-7 field-container">
                                                    <input type="color" class="form-control form-control-color" 
                                                           name="secondary_color" value="{{ secondary_color }}">
                                                </div>
                                            </div>
                                            
                                            {# ========== INTERACTIVE PANEL ========== #}
                                            {{ fields.smallTitle('Interactive Panel', 'ti ti-bell') }}
                                            
                            {{ fields.dropdownYesNo('panel_enabled', panel_enabled, 'Enable Interactive Panel') }}
                            
                            {{ fields.textField('panel_title', panel_title, 'Panel Title', {
                                placeholder: 'Bem-vindo!'
                            }) }}
                            
                            {{ fields.textareaField('panel_message', panel_message, 'Panel Message', {
                                rows: 3
                            }) }}
                            
                            {{ fields.dropdownYesNo('panel_show_notifications', panel_show_notifications, 'Show Notifications Area') }}
                            {{ fields.dropdownYesNo('panel_show_events', panel_show_events, 'Show Events Area') }}
                            {{ fields.dropdownYesNo('panel_show_countdown', panel_show_countdown, 'Show Countdown Timer') }}
                            
                            {{ fields.dateTimeField('panel_countdown_date', panel_countdown_date, 'Countdown Date', {
                                helper: 'Select target date and time for countdown'
                            }) }}
                            
                            {{ fields.textField('panel_countdown_text', panel_countdown_text, 'Countdown Text', {
                                placeholder: 'Until next event'
                            }) }}
                            
                            {{ fields.textareaField('panel_notifications', panel_notifications, 'Notifications', {
                                rows: 4,
                                placeholder: 'One notification per line\nExample: System maintenance scheduled for tonight\nExample: New features available in version 2.0',
                                helper: 'Uma notificação por linha'
                            }) }}
                            
                            {{ fields.textareaField('panel_events', panel_events, 'Events', {
                                rows: 4,
                                placeholder: 'One event per line\nExample: Team meeting - Tomorrow at 2 PM\nExample: Training session - Friday 10 AM',
                                helper: 'Um evento por linha'
                            }) }}                                            {# ========== CUSTOM LOGOS ========== #}
                                            {{ fields.smallTitle(__('Custom Logos', 'mod'), 'ti ti-brand-appgallery') }}
                                            
                                            <div class="row border-top mb-2 ms-2 me-2"></div>
                                            <div class="form-field row align-items-center col-12 col-sm-6 mb-2">
                                                <label class="col-form-label col-xxl-5 text-xxl-end" for="logo_s_input">
                                                    {{ __('Small Logo (53x53 - PNG)', 'mod') }}
                                                </label>
                                                <div class="col-xxl-7 field-container">
                                                    <input type="file" class="form-control" name="logo_s"
                                                           accept="image/png" id="logo_s_input"/>
                                                </div>
                                            </div>
                                            <div class="row align-items-center justify-content-center col-12 col-sm-6 mb-2">
                                                <img style='max-width: 100%; max-height: 250px; width: auto'
                                                     src='/plugins/mod/front/resource.send.php?resource=logo_s'
                                                     alt='{{ __('Small Logo', 'mod') }}'/>
                                            </div>
                                            
                                            <div class="row border-top mb-2 ms-2 me-2"></div>
                                            <div class="form-field row align-items-center col-12 col-sm-6 mb-2">
                                                <label class="col-form-label col-xxl-5 text-xxl-end" for="logo_m_input">
                                                    {{ __('Medium Logo (100x55 - PNG)', 'mod') }}
                                                </label>
                                                <div class="col-xxl-7 field-container">
                                                    <input type="file" class="form-control" name="logo_m"
                                                           accept="image/png" id="logo_m_input"/>
                                                </div>
                                            </div>
                                            <div class="row align-items-center justify-content-center col-12 col-sm-6 mb-2">
                                                <img style='max-width: 100%; max-height: 250px; width: auto'
                                                     src='/plugins/mod/front/resource.send.php?resource=logo_m'
                                                     alt='{{ __('Medium Logo', 'mod') }}'/>
                                            </div>
                                            
                                            <div class="row border-top mb-2 ms-2 me-2"></div>
                                            <div class="form-field row align-items-center col-12 col-sm-6 mb-2">
                                                <label class="col-form-label col-xxl-5 text-xxl-end" for="logo_l_input">
                                                    {{ __('Large Logo (250x138 - PNG)', 'mod') }}
                                                </label>
                                                <div class="col-xxl-7 field-container">
                                                    <input type="file" class="form-control" name="logo_l"
                                                           accept="image/png" id="logo_l_input"/>
                                                </div>
                                            </div>
                                            <div class="row align-items-center justify-content-center col-12 col-sm-6 mb-2">
                                                <img style='max-width: 100%; max-height: 250px; width: auto'
                                                     src='/plugins/mod/front/resource.send.php?resource=logo_l'
                                                     alt='{{ __('Large Logo', 'mod') }}'/>
                                            </div>
                                            
                                            <div class="row border-top mb-2 ms-2 me-2"></div>
                                            <div class="form-field row align-items-center col-12 col-sm-6 mb-2">
                                                <label class="col-form-label col-xxl-5 text-xxl-end" for="favicon_input">
                                                    {{ __('Favicon (32x32 - ICO/PNG)', 'mod') }}
                                                </label>
                                                <div class="col-xxl-7 field-container">
                                                    <input type="file" class="form-control" name="favicon"
                                                           accept="image/x-icon,image/png" id="favicon_input"/>
                                                </div>
                                            </div>
                                            <div class="row align-items-center justify-content-center col-12 col-sm-6 mb-2">
                                                <img style='max-width: 64px; max-height: 64px; width: auto'
                                                     src='/plugins/mod/front/resource.send.php?resource=favicon'
                                                     alt='{{ __('Favicon', 'mod') }}'/>
                                            </div>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card-body d-flex flex-wrap">
                            <div class="col-12 col-xxl-12 flex-column">
                                <div class="d-flex flex-row flex-wrap flex-xl-nowrap">
                                    <div class="row flex-row align-items-start flex-wrap flex-xl-nowrap">
                                        <div class="row flex-row align-items-start flex-wrap">
                                            
                                            {# ========== BACKGROUND OPTIONS ========== #}
                                            {{ fields.smallTitle('Background Options', 'ti ti-photo') }}
                                            
                            {{ fields.textField('video_background_url', video_background_url, 'Video Background URL', {
                                helper: 'Optional MP4 video URL for background'
                            }) }}
                            
                            <div class="row border-top mb-2 ms-2 me-2"></div>
                            <div class="form-field row align-items-center col-12 col-sm-6 mb-2">
                                <label class="col-form-label col-xxl-5 text-xxl-end" for="background_input">
                                    {{ __('Background Image (JPG)', 'mod') }}
                                </label>
                                <div class="col-xxl-7 field-container">
                                    <input type="file" id="background_input" class="form-control"
                                           accept="image/jpeg" name="background">
                                </div>
                            </div>
                            <div class="row align-items-center justify-content-center col-12 col-sm-6 mb-2">
                                <img style='max-width: 100%; max-height: 250px; width: auto;'
                                     src='/plugins/mod/front/resource.send.php?resource=background'
                                     alt='{{ __('Background', 'mod') }}'/>
                            </div>                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-button-separator card-body mx-n2 border-top d-flex flex-row-reverse align-items-start flex-wrap">
                            <button class="btn btn-primary me-2" type="submit" name="update" value="1">
                                <i class="ti ti-device-floppy"></i>
                                <span>{{ _x('button', 'Save') }}</span>
                            </button>
                        </div>
                        <div class="card-footer mx-n2 mb-n2"></div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

